<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Scraper's Workbench: ChatGPT Activity Logs</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; }
        .font-mono { font-family: 'JetBrains Mono', monospace; }

        /* Custom scrollbar for the code block simulation */
        .custom-scrollbar::-webkit-scrollbar { width: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f1f5f9; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        /* Chart container constraint classes */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            height: 300px;
            max-height: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Animation utilities */
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .highlight-border { border: 2px solid #3b82f6 !important; background-color: rgba(59, 130, 246, 0.1); }
    </style>

    <!-- Chosen Palette: Slate & Blue (Developer Tools Aesthetic) -->
    <!-- The app uses a technical, clean 'DevTools' aesthetic using Slate-50 to Slate-900 for structure and Blue-600 for interactions, mimicking a coding environment. -->

    <!-- Application Structure Plan:
         1. Header: Sets the context of 'reverse engineering' the UI.
         2. Section 1 (The Anatomy): An interactive 'X-Ray' view. This maps the visual UI elements to the code structure described in the report. Users toggle 'Inspect Mode' to see the classes.
         3. Section 2 (The Strategy): A step-by-step logic breakdown. It simplifies the JavaScript logic into a process flow (Locate -> Loop -> Filter).
         4. Section 3 (The Lab): A simulation area. Users click 'Run Script' to see the extraction logic actually parse mock HTML and produce JSON, proving the concept.
         5. Section 4 (Analysis): A Chart.js visualization showing the DOM depth/complexity, reinforcing why specific selectors are needed.
    -->

    <!-- Visualization & Content Choices:
         1. Report Info: Nested DOM Structure -> Goal: Visualizing Hierarchy -> Viz: Nested Divs with Hover States (HTML/CSS) -> Interaction: Toggle "Inspect Mode" to reveal classes.
         2. Report Info: Text vs. Code Rows -> Goal: Distinction -> Viz: Interactive Cards -> Interaction: Click to see different scraping rules for each type.
         3. Report Info: Extraction Logic -> Goal: Simulation -> Viz: Mock Terminal/Code Editor -> Interaction: 'Run' button executing real JS on mock DOM.
         4. Report Info: Deep Nesting -> Goal: Analysis -> Viz: Bar Chart (Chart.js) -> Interaction: None (static analysis of structure depth).
    -->

    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-slate-50 text-slate-800 antialiased">

    <!-- Navigation / Header -->
    <header class="bg-white border-b border-slate-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <span class="text-2xl font-bold tracking-tight text-slate-900">Scraper's<span class="text-blue-600">Workbench</span></span>
                <span class="px-2 py-1 rounded bg-slate-100 text-xs font-mono text-slate-500 border border-slate-200">Target: ChatGPT Activity Logs</span>
            </div>
            <nav class="hidden md:flex gap-6 text-sm font-medium text-slate-600">
                <a href="#anatomy" class="hover:text-blue-600 transition-colors">DOM Anatomy</a>
                <a href="#strategy" class="hover:text-blue-600 transition-colors">Logic Strategy</a>
                <a href="#simulation" class="hover:text-blue-600 transition-colors">Simulation Lab</a>
            </nav>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-16">

        <!-- Intro -->
        <section class="text-center max-w-3xl mx-auto space-y-4">
            <h1 class="text-4xl font-extrabold text-slate-900">Reverse Engineering the "Thinking" Process</h1>
            <p class="text-lg text-slate-600 leading-relaxed">
                Modern AI interfaces like ChatGPT use complex, deeply nested DOM structures to display their internal "thought process."
                This interactive report breaks down the component architecture identified in the source logs and demonstrates the precise JavaScript logic required to scrape these hidden activity streams.
            </p>
        </section>

        <!-- Section 1: The DOM Anatomy (Interactive Inspector) -->
        <section id="anatomy" class="space-y-6 scroll-mt-20">
            <div class="border-l-4 border-blue-600 pl-4">
                <h2 class="text-2xl font-bold text-slate-900">1. The DOM Anatomy</h2>
                <p class="text-slate-600 mt-1">
                    Understanding the target is the first step. The source report identifies a specific hierarchy of elements.
                    Use the <strong>"Inspector Toggle"</strong> below to peel back the visual layer and reveal the underlying Tailwind classes and structure.
                </p>
            </div>

            <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                <div class="bg-slate-50 px-6 py-4 border-b border-slate-200 flex justify-between items-center flex-wrap gap-4">
                    <div>
                        <h3 class="font-semibold text-slate-900">Component Inspector</h3>
                        <p class="text-xs text-slate-500">Hover elements to identify them. Toggle view to see code structure.</p>
                    </div>
                    <div class="flex items-center gap-3">
                        <span class="text-sm font-medium text-slate-600" id="view-label">User View</span>
                        <button id="toggle-inspector" class="relative inline-flex h-6 w-11 items-center rounded-full bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                            <span class="sr-only">Enable Inspector</span>
                            <span id="toggle-circle" class="inline-block h-4 w-4 transform rounded-full bg-white transition shadow-sm translate-x-1"></span>
                        </button>
                        <span class="text-sm font-medium text-slate-400" id="code-label">Dev View</span>
                    </div>
                </div>

                <div class="p-6 md:p-10 bg-slate-100 relative min-h-[400px] flex justify-center items-center">

                    <!-- The Interactive Mock Component -->
                    <div id="mock-component" class="w-full max-w-2xl bg-white rounded-lg shadow-lg transition-all duration-300 p-4 relative group/container cursor-default">

                        <!-- Dev Overlay for Container -->
                        <div class="dev-overlay hidden absolute -top-3 -left-3 bg-blue-600 text-white text-xs px-2 py-1 rounded shadow z-20 font-mono">
                            div.h-full.flex.flex-col.overflow-y-auto
                        </div>

                        <div class="space-y-4">
                            <!-- Header (Not part of scraping but visual context) -->
                            <div class="flex items-center gap-2 border-b border-slate-100 pb-2 mb-2">
                                <div class="w-4 h-4 rounded-full bg-slate-200"></div>
                                <span class="text-sm font-semibold text-slate-700">Thinking Process</span>
                            </div>

                            <!-- Row 1: Standard Thought -->
                            <div class="mock-row relative p-2 rounded hover:bg-slate-50 transition-colors border border-transparent hover:border-blue-200 group/row">
                                <div class="dev-overlay hidden absolute -top-3 left-0 bg-emerald-600 text-white text-xs px-2 py-1 rounded shadow z-20 font-mono">
                                    div.w-full.items-start.gap-2
                                </div>
                                <div class="flex gap-3">
                                    <div class="w-6 h-6 rounded bg-slate-100 flex items-center justify-center text-xs text-slate-400">T</div>
                                    <div class="flex-1">
                                        <p class="text-slate-600 text-sm leading-relaxed target-text">
                                            The user wants to extract logs. I should look for the container element first.
                                        </p>
                                        <div class="dev-overlay hidden mt-1 text-xs text-emerald-600 font-mono">
                                            Node.textContent (Standard Thought)
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Row 2: Code Action -->
                            <div class="mock-row relative p-2 rounded hover:bg-slate-50 transition-colors border border-transparent hover:border-purple-200 group/row">
                                <div class="dev-overlay hidden absolute -top-3 left-0 bg-purple-600 text-white text-xs px-2 py-1 rounded shadow z-20 font-mono">
                                    div.gap-2 (Code Block Variant)
                                </div>
                                <div class="flex gap-3">
                                    <div class="w-6 h-6 rounded bg-purple-100 flex items-center justify-center text-xs text-purple-600">&lt;/&gt;</div>
                                    <div class="flex-1 space-y-1">
                                        <span class="text-xs font-semibold text-slate-400 block text-token-secondary">Running python code</span>
                                        <div class="bg-slate-900 rounded p-2 mt-1">
                                            <code class="text-green-400 text-xs font-mono block text-token-primary">
                                                import scraping_lib<br>
                                                container = find_container()
                                            </code>
                                        </div>
                                        <div class="dev-overlay hidden mt-1 text-xs text-purple-600 font-mono">
                                            .mt-1 .text-token-text-primary (Code Action)
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Structure Analysis Chart -->
        <section class="space-y-6">
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div>
                     <div class="border-l-4 border-purple-600 pl-4 mb-4">
                        <h2 class="text-2xl font-bold text-slate-900">2. Structural Complexity</h2>
                        <p class="text-slate-600 mt-1">
                            The report highlights a deeply nested structure. This visualization shows the depth of the specific nodes we need to target versus the container.
                        </p>
                    </div>
                    <p class="text-slate-600 mb-4">
                        Unlike simple text lists, the activity log wraps content in multiple utility `divs` for layout and styling (flexbox, overflow, spacing). Our script must drill down exactly 3-4 levels to find the content.
                    </p>
                    <ul class="space-y-2">
                        <li class="flex items-center gap-2">
                            <span class="w-3 h-3 rounded-full bg-blue-500"></span>
                            <span class="text-sm text-slate-700"><strong>Level 0:</strong> Main Container (Scrollable)</span>
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-3 h-3 rounded-full bg-emerald-500"></span>
                            <span class="text-sm text-slate-700"><strong>Level 1:</strong> Log Item Wrapper (Row)</span>
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-3 h-3 rounded-full bg-amber-500"></span>
                            <span class="text-sm text-slate-700"><strong>Level 3:</strong> Text/Code Content</span>
                        </li>
                    </ul>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                    <div class="chart-container">
                        <canvas id="structureChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: The Logic Flow -->
        <section id="strategy" class="space-y-6 scroll-mt-20">
            <div class="border-l-4 border-amber-500 pl-4">
                <h2 class="text-2xl font-bold text-slate-900">3. The Extraction Logic</h2>
                <p class="text-slate-600 mt-1">
                    The report outlines a robust 3-step logic to handle the mixed content (plain text thoughts vs. code execution blocks).
                </p>
            </div>

            <div class="grid md:grid-cols-3 gap-6">
                <!-- Step 1 -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow cursor-pointer logic-card" data-step="1">
                    <div class="w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold mb-4">1</div>
                    <h3 class="font-bold text-slate-900 mb-2">Locate Container</h3>
                    <p class="text-sm text-slate-600 mb-4">Target the specific scrollable div that holds the history.</p>
                    <div class="bg-slate-900 rounded p-2">
                        <code class="text-xs text-blue-300 font-mono">
                            document.querySelector(<br>
                            'div.h-full.flex...'
                            )
                        </code>
                    </div>
                </div>

                <!-- Step 2 -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow cursor-pointer logic-card" data-step="2">
                    <div class="w-10 h-10 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center font-bold mb-4">2</div>
                    <h3 class="font-bold text-slate-900 mb-2">Iterate Children</h3>
                    <p class="text-sm text-slate-600 mb-4">Loop through `container.children`. Each child is a distinct step in the thought process.</p>
                    <div class="bg-slate-900 rounded p-2">
                        <code class="text-xs text-emerald-300 font-mono">
                            Array.from(children)<br>.map(node => { ... })
                        </code>
                    </div>
                </div>

                <!-- Step 3 -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow cursor-pointer logic-card" data-step="3">
                    <div class="w-10 h-10 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center font-bold mb-4">3</div>
                    <h3 class="font-bold text-slate-900 mb-2">Classify & Extract</h3>
                    <p class="text-sm text-slate-600 mb-4">Check for unique code classes (e.g., `.mt-1`) to distinguish Actions from Thoughts.</p>
                    <div class="bg-slate-900 rounded p-2">
                        <code class="text-xs text-purple-300 font-mono">
                            if (node.querySelector<br>('.mt-1...'))
                        </code>
                    </div>
                </div>
            </div>

            <!-- Dynamic Explanation Box -->
            <div id="logic-detail" class="bg-slate-100 rounded-lg p-4 border border-slate-200 text-sm text-slate-700 italic">
                Click a card above to see the detailed logic from the report.
            </div>
        </section>

        <!-- Section 4: Simulation Lab -->
        <section id="simulation" class="space-y-6 scroll-mt-20">
            <div class="border-l-4 border-green-600 pl-4">
                <h2 class="text-2xl font-bold text-slate-900">4. The Simulation Lab</h2>
                <p class="text-slate-600 mt-1">
                    See the code in action. The "Source DOM" below mimics the ChatGPT HTML structure. Clicking <strong>Run Extraction</strong> will execute the exact JavaScript parsing logic described in the report.
                </p>
            </div>

            <div class="grid lg:grid-cols-2 gap-8">
                <!-- Left: Source / Controls -->
                <div class="space-y-4">
                    <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden flex flex-col h-96">
                        <div class="bg-slate-100 px-4 py-2 border-b border-slate-200 flex justify-between items-center">
                            <span class="text-xs font-bold text-slate-500 uppercase">Target DOM (Live Mock)</span>
                            <span class="text-xs text-slate-400">Read-Only</span>
                        </div>
                        <div id="mock-dom-container" class="flex-1 overflow-y-auto p-4 space-y-3 bg-white">
                            <!-- JS will inject items here -->
                        </div>
                    </div>

                    <button id="run-scraper" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg shadow-blue-200 transition-all flex items-center justify-center gap-2">
                        <span id="btn-icon">â–¶</span>
                        <span id="btn-text">Run Extraction Script</span>
                    </button>
                </div>

                <!-- Right: Output -->
                <div class="bg-slate-900 rounded-xl shadow-lg border border-slate-700 overflow-hidden flex flex-col h-96">
                    <div class="bg-slate-800 px-4 py-2 border-b border-slate-700 flex justify-between items-center">
                        <span class="text-xs font-bold text-blue-400 uppercase">Console / Output</span>
                        <span class="text-xs text-slate-500">JSON Result</span>
                    </div>
                    <pre id="output-console" class="flex-1 p-4 font-mono text-xs text-slate-300 overflow-auto custom-scrollbar">
// Ready to scrape...
// Waiting for execution...
                    </pre>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="border-t border-slate-200 pt-8 pb-12 text-center text-sm text-slate-500">
            <p>Based on the "Scraping ChatGPT Activity Logs" Technical Report.</p>
        </footer>

    </main>

    <script>
        // --- State Management ---
        const state = {
            inspectorMode: false,
            mockData: [
                { type: 'thought', text: "Analyzing the user's request for scraping logic." },
                { type: 'thought', text: "Identifying the main container class in the provided screenshots." },
                { type: 'code', desc: 'Running browser selector check', content: 'document.querySelector("div.h-full")' },
                { type: 'thought', text: "The container seems to be a flex column with overflow-y-auto." },
                { type: 'code', desc: 'Extracting text content', content: 'items.map(i => i.innerText)' }
            ]
        };

        // --- DOM Elements ---
        const toggleBtn = document.getElementById('toggle-inspector');
        const toggleCircle = document.getElementById('toggle-circle');
        const viewLabel = document.getElementById('view-label');
        const codeLabel = document.getElementById('code-label');
        const mockComponent = document.getElementById('mock-component');
        const overlays = document.querySelectorAll('.dev-overlay');
        const mockDomContainer = document.getElementById('mock-dom-container');
        const outputConsole = document.getElementById('output-console');
        const runBtn = document.getElementById('run-scraper');
        const logicCards = document.querySelectorAll('.logic-card');
        const logicDetail = document.getElementById('logic-detail');

        // --- Logic Explanations ---
        const explanations = {
            1: "<strong>Step 1: Targeting.</strong> The script looks for <code>div.h-full.flex.flex-col.overflow-y-auto</code>. This specific combination of Tailwind classes identifies the scrollable sidebar containing the thought history, distinct from the main chat window.",
            2: "<strong>Step 2: Iteration.</strong> We convert the <code>HTMLCollection</code> of children into a standard Array using <code>Array.from()</code>. This allows us to use the <code>.map()</code> method to transform each DOM node into a clean data object.",
            3: "<strong>Step 3: Discrimination.</strong> The script checks if a child node contains a sub-element with class <code>.mt-1</code> and <code>.text-token-text-primary</code>. The report identifies this pattern as specific to <strong>Code Actions</strong>. If absent, the row is treated as a standard <strong>Thought</strong>."
        };

        // --- Section 1: Inspector Toggle Logic ---
        toggleBtn.addEventListener('click', () => {
            state.inspectorMode = !state.inspectorMode;

            // Toggle Button Visuals
            if (state.inspectorMode) {
                toggleBtn.classList.remove('bg-slate-200');
                toggleBtn.classList.add('bg-blue-600');
                toggleCircle.classList.add('translate-x-6');
                toggleCircle.classList.remove('translate-x-1');
                viewLabel.classList.remove('text-slate-600');
                viewLabel.classList.add('text-slate-400');
                codeLabel.classList.remove('text-slate-400');
                codeLabel.classList.add('text-slate-900');

                // Show Overlays
                overlays.forEach(el => el.classList.remove('hidden'));
                mockComponent.classList.add('border-blue-500', 'border-2');
                mockComponent.classList.remove('shadow-lg');
            } else {
                toggleBtn.classList.add('bg-slate-200');
                toggleBtn.classList.remove('bg-blue-600');
                toggleCircle.classList.remove('translate-x-6');
                toggleCircle.classList.add('translate-x-1');
                viewLabel.classList.add('text-slate-600');
                viewLabel.classList.remove('text-slate-400');
                codeLabel.classList.add('text-slate-400');
                codeLabel.classList.remove('text-slate-900');

                // Hide Overlays
                overlays.forEach(el => el.classList.add('hidden'));
                mockComponent.classList.remove('border-blue-500', 'border-2');
                mockComponent.classList.add('shadow-lg');
            }
        });

        // --- Section 3: Logic Card Interaction ---
        logicCards.forEach(card => {
            card.addEventListener('click', () => {
                // visual selection
                logicCards.forEach(c => c.classList.remove('ring-2', 'ring-blue-500', 'bg-blue-50'));
                card.classList.add('ring-2', 'ring-blue-500', 'bg-blue-50');

                // update text
                const step = card.dataset.step;
                logicDetail.innerHTML = explanations[step];
                logicDetail.classList.remove('fade-in');
                void logicDetail.offsetWidth; // trigger reflow
                logicDetail.classList.add('fade-in');
            });
        });

        // --- Section 4: Simulation Lab Setup ---

        // 1. Render Mock DOM content (Hidden HTML structure for script to scrape)
        function renderMockDOM() {
            mockDomContainer.innerHTML = '';
            state.mockData.forEach((item, index) => {
                const el = document.createElement('div');
                // These classes mimic the Source Report exactly
                el.className = "relative flex w-full items-start gap-2 overflow-clip py-1";

                if (item.type === 'thought') {
                    // Standard Thought Structure
                    el.innerHTML = `
                        <div class="text-xs text-slate-400 mt-1">T</div>
                        <div class="flex-1 text-sm text-slate-700">${item.text}</div>
                    `;
                } else {
                    // Code Action Structure
                    el.innerHTML = `
                        <div class="text-xs text-purple-600 mt-1">&lt;/&gt;</div>
                        <div class="flex-1">
                            <div class="text-token-text-secondary text-xs font-bold text-slate-500">${item.desc}</div>
                            <div class="mt-1 text-token-text-primary bg-slate-100 p-1 rounded font-mono text-xs text-slate-800">${item.content}</div>
                        </div>
                    `;
                }
                mockDomContainer.appendChild(el);
            });
        }
        renderMockDOM();

        // 2. The Scraping Function (Based on Report Logic)
        runBtn.addEventListener('click', () => {
            // Visual Feedback
            runBtn.disabled = true;
            runBtn.classList.add('opacity-75', 'cursor-not-allowed');
            document.getElementById('btn-text').innerText = "Scraping...";
            outputConsole.innerText = "// Accessing DOM...\n";

            setTimeout(() => {
                outputConsole.innerText += "// Locating Container...\n";
                // ACTUALLY SCRAPE THE MOCK DOM
                // We target the ID we created, mimicking the report's targeting of classes
                const container = document.getElementById('mock-dom-container');

                outputConsole.innerText += `// Found ${container.children.length} items.\n// Iterating & Classifying...\n\n`;

                const results = Array.from(container.children).map(node => {
                    // Report Logic: Check for Code Block specific class
                    const codeBlock = node.querySelector('.mt-1.text-token-text-primary');

                    if (codeBlock) {
                        return {
                            type: 'code',
                            description: node.querySelector('.text-token-text-secondary')?.innerText || 'Unknown Action',
                            command: codeBlock.innerText
                        };
                    } else {
                        return {
                            type: 'thought',
                            text: node.textContent.trim().replace(/^T\n/, '') // Cleaning up our mock visual "T"
                        };
                    }
                });

                // Display Result
                outputConsole.innerText += JSON.stringify(results, null, 2);

                // Reset Button
                runBtn.disabled = false;
                runBtn.classList.remove('opacity-75', 'cursor-not-allowed');
                document.getElementById('btn-text').innerText = "Run Extraction Script";

                // Highlight success
                outputConsole.classList.add('bg-slate-800');
                setTimeout(() => outputConsole.classList.remove('bg-slate-800'), 200);
            }, 800);
        });


        // --- Chart.js: Structure Depth ---
        // Visualizing the "Deeply Nested" concept from the report
        const ctx = document.getElementById('structureChart').getContext('2d');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Container', 'Row Wrapper', 'Inner Flex', 'Text Content'],
                datasets: [{
                    label: 'DOM Nesting Depth (Levels)',
                    data: [1, 2, 3, 4],
                    backgroundColor: [
                        '#3b82f6', // blue
                        '#10b981', // emerald
                        '#f59e0b', // amber
                        '#6366f1'  // indigo
                    ],
                    borderRadius: 6,
                    borderSkipped: false
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: (context) => `Depth Level: ${context.raw}`
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: { display: true, text: 'Nesting Level' },
                        grid: { color: '#f1f5f9' }
                    },
                    x: {
                        grid: { display: false }
                    }
                }
            }
        });

    </script>
</body>
</html>